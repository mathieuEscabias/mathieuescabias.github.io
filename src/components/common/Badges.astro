---
import type { BadgeData } from "@/types";

import {
  FaCode,
  FaServer,
  FaComments,
  FaPalette,
  FaPenNib,
  FaBullhorn,
  FaDatabase,
} from "react-icons/fa";

interface Props {
  badges?: BadgeData;
}

const { badges } = Astro.props;

const badgeClass =
  "inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all hover:scale-105";

// Configuration des badges avec icône, label et couleur
const badgeConfig = {
  devFront: {
    icon: FaCode,
    label: "Dev Front-end",
    color: "rgba(59, 130, 246, 0.15)", // blue
    borderColor: "rgba(59, 130, 246, 0.3)",
    textColor: "#3b82f6",
  },
  devBack: {
    icon: FaServer,
    label: "Dev Back-end",
    color: "rgba(139, 92, 246, 0.15)", // purple
    borderColor: "rgba(139, 92, 246, 0.3)",
    textColor: "#8b5cf6",
  },
  communication: {
    icon: FaComments,
    label: "Communication",
    color: "rgba(236, 72, 153, 0.15)", // pink
    borderColor: "rgba(236, 72, 153, 0.3)",
    textColor: "#ec4899",
  },
  graphiste: {
    icon: FaPalette,
    label: "graphiste",
    color: "rgba(245, 158, 11, 0.15)", // orange
    borderColor: "rgba(245, 158, 11, 0.3)",
    textColor: "#f59e0b",
  },
  designer: {
    icon: FaPenNib,
    label: "Design",
    color: "rgba(16, 185, 129, 0.15)", // green
    borderColor: "rgba(16, 185, 129, 0.3)",
    textColor: "#10b981",
  },
  marketing: {
    icon: FaBullhorn,
    label: "Marketing",
    color: "rgba(239, 68, 68, 0.15)", // red
    borderColor: "rgba(239, 68, 68, 0.3)",
    textColor: "#ef4444",
  },
  baseDeDonnées: {
    icon: FaDatabase,
    label: "Base de données",
    color: "rgba(84, 81, 83, 0.15)", // grey
    borderColor: "rgba(84, 81, 83, 0.3)",
    textColor: "#c7c1c4",
  },
};
---

{
  badges && (
    <div class="flex flex-wrap gap-2 py-2 justify-center">
      {Object.entries(badges).map(([key, value]) => {
        if (!value) return null;
        const config = badgeConfig[key as keyof typeof badgeConfig];
        if (!config) return null;
        
        const Icon = config.icon;
        
        return (
          <div
            class={badgeClass}
            style={{
              backgroundColor: config.color,
              border: `1px solid ${config.borderColor}`,
              color: config.textColor,
            }}
          >
            <Icon className="w-4 h-4" />
            <span>{config.label}</span>
          </div>
        );
      })}
    </div>
  )
}