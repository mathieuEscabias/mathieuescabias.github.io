---
import BaseLayout from "@components/base/BaseLayout.astro";
import { markdownify } from "@lib/textConverter";
import Button from "@components/common/Button.astro";
import type { HomeEntry } from "@/types";
import { Image } from "astro:assets";


interface Props {
  entry: HomeEntry;
}

const { entry } = Astro.props;
const { image, imageAlt, title, content, button } = entry.data;

---

<BaseLayout>

<link rel="stylesheet" href="/styles/bar-striped.css" />


  <!-- Banner -->
  <section class="section">
    <div class="container">
      <div class="row justify-center">
        <div class="text-center lg:col-6">
          {
            image && (
              <div class="blur-[0px]">
                <Image
                class="mb-6 w-64"
                src={image}
                alt={imageAlt}
                width={1024}
                height={1024}
                loading="eager"
              />
              </div>
              
            )
          }
          <h1 set:html={markdownify(title)} class="mb-4" />
          <p set:html={markdownify(content)} class="mb-8" />
          {
            button && (
              <Button
                label={button.label}
                link={button.link}
                newtab
                hoverInvert
                color=""
              />
            )
          }
        </div>
      </div>
    </div>

    <!-- bannière moi -->
      <div class="section-sm">
    <div class="container">
      <div class="row justify-center">
        <div class="glass bg-purple-900/30 rounded-lg text-center p-8 md:col-10 lg:col-12 intersect:animate-fadeUp opacity-0 intersect-no-queue">
          <img src="src/assets/home/moi.jpg" class=" w-44 flex-none overflow-hidden rounded-xl bg-zinc-100 sm:w-72 sm:rounded-2xl dark:bg-zinc-800 rotate-2" alt="me" />
          <h2 class="mb-5 p-5">salut c'est mathieu !</h2>
          <p class="mb-5 ">Je suis développeur web freelance, passionné par l'accessibilité et l'expérience utilisateur. J'aide les entreprises à créer des sites web accessibles, humains et adaptés à leur budget.</p>
          <p class="mb-5 ">ensemble trouvons une solution adapter a votre budget pour votre site interet/application</p>
        </div>
      </div>
    </div>



      
      <!-- Barre de progression -->
  <div class="container p-15 mt-10 glass"> 


<div class="mb-8 flex flex-col md:flex-row md:items-center md:gap-6">
  <!-- SVG -->
  <div class="mx-auto md:mx-0 md:w-16 md:h-16 flex-shrink-0">
    <svg class="w-16 h-16" viewBox="0 0 361 361" xmlns="http://www.w3.org/2000/svg" fill="none">
      <!-- ton SVG copié ici sans modification -->
<svg viewBox="-52.5 0 361 361" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M255.554813,70.7657143 L232.31367,331.125451 L127.843868,360.087912 L23.6617143,331.166242 L0.445186813,70.7657143 L255.554813,70.7657143 L255.554813,70.7657143 Z" fill="#E44D26"> </path> <path d="M128,337.950242 L212.416703,314.546637 L232.277802,92.0573187 L128,92.0573187 L128,337.950242 L128,337.950242 Z" fill="#F16529"> </path> <path d="M82.8202198,155.932132 L128,155.932132 L128,123.994725 L47.917011,123.994725 L48.6814945,132.562989 L56.530989,220.572835 L128,220.572835 L128,188.636132 L85.7389011,188.636132 L82.8202198,155.932132 L82.8202198,155.932132 Z" fill="#EBEBEB"> </path> <path d="M90.0177582,236.54189 L57.957978,236.54189 L62.4323516,286.687648 L127.853011,304.848879 L128,304.808088 L128,271.580132 L127.860044,271.617407 L92.2915165,262.013187 L90.0177582,236.54189 L90.0177582,236.54189 Z" fill="#EBEBEB"> </path> <path d="M24.1807473,0 L40.4107253,0 L40.4107253,16.0351648 L55.2573187,16.0351648 L55.2573187,0 L71.488,0 L71.488,48.5584176 L55.258022,48.5584176 L55.258022,32.2981978 L40.4114286,32.2981978 L40.4114286,48.5584176 L24.1814505,48.5584176 L24.1814505,0 L24.1807473,0 L24.1807473,0 Z" fill="#000000"> </path> <path d="M92.8309451,16.1026813 L78.5427692,16.1026813 L78.5427692,0 L123.356835,0 L123.356835,16.1026813 L109.06233,16.1026813 L109.06233,48.5584176 L92.8316484,48.5584176 L92.8316484,16.1026813 L92.8309451,16.1026813 L92.8309451,16.1026813 Z" fill="#000000"> </path> <path d="M130.469275,0 L147.392703,0 L157.802901,17.061978 L168.202549,0 L185.132308,0 L185.132308,48.5584176 L168.969143,48.5584176 L168.969143,24.4901978 L157.802901,41.7554286 L157.523692,41.7554286 L146.349714,24.4901978 L146.349714,48.5584176 L130.469275,48.5584176 L130.469275,0 L130.469275,0 Z" fill="#000000"> </path> <path d="M193.20967,0 L209.444571,0 L209.444571,32.5077802 L232.268659,32.5077802 L232.268659,48.5584176 L193.20967,48.5584176 L193.20967,0 L193.20967,0 Z" fill="#000000"> </path> <path d="M127.889582,220.572835 L167.216527,220.572835 L163.509451,261.992791 L127.889582,271.606857 L127.889582,304.833407 L193.362286,286.687648 L193.842637,281.291956 L201.347516,197.212132 L202.126769,188.636132 L127.889582,188.636132 L127.889582,220.572835 L127.889582,220.572835 Z" fill="#FFFFFF"> </path> <path d="M127.889582,155.854066 L127.889582,155.932132 L205.032791,155.932132 L205.673495,148.753582 L207.128615,132.562989 L207.892396,123.994725 L127.889582,123.994725 L127.889582,155.854066 L127.889582,155.854066 Z" fill="#FFFFFF"> </path> </g> </g></svg>
      <!-- ... ton contenu SVG ... -->
    </svg>
  </div>

  <!-- Texte + Barre -->
  <div class="w-full text-center md:text-left">
    <h5 class="mb-1">HTML/CSS</h5>
    <div class="w-full h-5 bg-gray-200 rounded-full dark:bg-gray-700 overflow-hidden">
      <div
        class="progress-bar bar-striped h-5 bg-violet-600 rounded-full transition-all duration-[2000ms]"
        data-value="90"
        style="width: 0%">
      </div>
    </div>
  </div>
</div>





  <div class="mb-4">
 
    <h5 class="mb-1">HTML/CSS</h5>
      <div class="w-full h-5 bg-gray-200 rounded-full dark:bg-gray-700 overflow-hidden">
    <div class="progress-bar bar-striped h-5 bg-violet-600 rounded-full transition-all duration-[2000ms]" data-value="90" style="width: 0%"></div>
    </div>
  </div>


<div class="mb-4">
  <h5 class="mb-1">HTML</h5>
  <div class="w-full h-5 bg-gray-200 rounded-full dark:bg-gray-700 overflow-hidden">
    <div class="progress-bar bar-striped h-5 bg-blue-600 rounded-full transition-all duration-[2000ms]" data-value="70" style="width: 0%"></div>
  </div>
</div>

<div class="mb-4">
  <h5 class="mb-1">HTML</h>
  <div class="w-full h-5 bg-gray-200 rounded-full dark:bg-gray-700 overflow-hidden">
    <div class="progress-bar bar-striped h-5 bg-yellow-400 rounded-full transition-all duration-[2000ms]" data-value="50" style="width: 0%"></div>
  </div>
</div>

           </div>


  </section>



<!-- script pour barre de progression -->
  <script type="module" is:inline>
    import { animateProgressBars } from "/src/lib/progressBar.ts";
    document.addEventListener("DOMContentLoaded", () => {
      animateProgressBars();
    });
  </script>

</BaseLayout>


